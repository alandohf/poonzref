<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>13. 标准输入输出库</TITLE>
<META NAME="description" CONTENT="13. 标准输入输出库">
<META NAME="keywords" CONTENT="ccfaq">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=GBK">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ccfaq.css">

<LINK REL="next" HREF="node222.html">
<LINK REL="previous" HREF="node155.html">
<LINK REL="up" HREF="ccfaq.html">
<LINK REL="next" HREF="node192.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><table width=100%> <COLGROUP><COL width="25%"><COL width="25%"><col width="25%"><col width="25%"></colgroup><tr><td align=left>
<A NAME="tex2html2958"
  HREF="node190.html">
<IMG WIDTH="62" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A></td><td align=center>
<A NAME="tex2html2964"
  HREF="ccfaq.html">
<IMG WIDTH="61" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A></td><td align=center>&nbsp;
<A NAME="tex2html2966"
  HREF="node1.html">
<IMG WIDTH="63" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>&nbsp;</td><td align=right>
<A NAME="tex2html2968"
  HREF="node192.html">
<IMG WIDTH="62" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A></td></tr></table>
</DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION001400000000000000000"></A>
<A NAME="s:12"></A>
<BR>
<SPAN CLASS="arabic">13</SPAN>. 标准输入输出库
</H1>

<P>
<BR><HR>
<!--Table of Child-Links-->


<UL CLASS="ChildLinks">
<LI><A NAME="tex2html2970"
  HREF="node192.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">1</SPAN> 这样的代码有什么问题？
char c;
while((c = getchar()) != EOF) ...</A>
<LI><A NAME="tex2html2971"
  HREF="node193.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">2</SPAN> 我有个读取直到&nbsp;EOF&nbsp;的简单程序, 但是我如何才能在键盘上输入那个
&nbsp;``EOF"&nbsp;呢？</A>
<LI><A NAME="tex2html2972"
  HREF="node194.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">3</SPAN> 为什么这些代码&nbsp;
while(!feof(infp)) {
    fgets(buf, MAXLINE, infp);
    fputs(buf, outfp);
}&nbsp;
把最后一行复制了两遍？</A>
<LI><A NAME="tex2html2973"
  HREF="node195.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">4</SPAN> 我的程序的屏幕提示和中间输出有时显示在屏幕上, 尤其是当我用管道向
另一个程序输出的时候。</A>
<LI><A NAME="tex2html2974"
  HREF="node196.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">5</SPAN> 我怎样不等待回车键一次输入一个字符？</A>
<LI><A NAME="tex2html2975"
  HREF="node197.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">6</SPAN> 我如何在&nbsp;printf&nbsp;的格式串中输出一个&nbsp;<TT>'</TT>%<TT>'</TT>？
我试过&nbsp;&#92;%, 但是不行。</A>
<LI><A NAME="tex2html2976"
  HREF="node198.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">7</SPAN> 有人告诉我在&nbsp;printf&nbsp;中使用&nbsp;%lf&nbsp;不正确。那么, 如果&nbsp;scanf()&nbsp;
需要&nbsp;%lf, 怎么可以用在&nbsp;printf()&nbsp;中用&nbsp;%f&nbsp;输出双精度数呢？</A>
<LI><A NAME="tex2html2977"
  HREF="node199.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">8</SPAN> 对于&nbsp;size_t&nbsp;那样的类型定义, 当我不知道它到底是&nbsp;long&nbsp;
还是其它类型的时候, 我应该使用什么样的&nbsp;printf&nbsp;格式呢？</A>
<LI><A NAME="tex2html2978"
  HREF="node200.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">9</SPAN> 我如何用&nbsp;printf&nbsp;实现可变的域宽度？就是说, 我想在运行时确定宽度
而不是使用&nbsp;%8d？</A>
<LI><A NAME="tex2html2979"
  HREF="node201.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">10</SPAN> 如何输出在千位上用逗号隔开的数字？金额数字呢？</A>
<LI><A NAME="tex2html2980"
  HREF="node202.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">11</SPAN> 为什么&nbsp;scanf(<TT>"</TT>%d<TT>"</TT>, i)&nbsp;调用不行？</A>
<LI><A NAME="tex2html2981"
  HREF="node203.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">12</SPAN> 为什么&nbsp;
char s[30];
scanf(<TT>"</TT>%s<TT>"</TT>, s);&nbsp;
不用&nbsp;&amp;&nbsp;也可以？</A>
<LI><A NAME="tex2html2982"
  HREF="node204.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">13</SPAN> 为什么这些代码&nbsp;
double d;
scanf(<TT>"</TT>%f<TT>"</TT>, &amp;d);
&nbsp;不行？</A>
<LI><A NAME="tex2html2983"
  HREF="node205.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">14</SPAN> 怎样在&nbsp;scanf()&nbsp;格式串中指定可变的宽度？</A>
<LI><A NAME="tex2html2984"
  HREF="node206.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">15</SPAN> 当我用&nbsp;``%d&#92;n"&nbsp;调用&nbsp;scanf&nbsp;从键盘读取数字
的时候, 好像要多输入一行函数才返回。</A>
<LI><A NAME="tex2html2985"
  HREF="node207.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">16</SPAN> 我用&nbsp;scanf %d&nbsp;读取一个数字, 然后再用&nbsp;gets()&nbsp;读取字符串, 但是
编译器好像跳过了&nbsp;gets()&nbsp;调用！</A>
<LI><A NAME="tex2html2986"
  HREF="node208.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">17</SPAN> 我发现如果坚持检查返回值以确保用户输入的是我期待的数值,
则&nbsp;scanf()&nbsp;的使用会安全很多, 但有的时候好像会陷入无限循环。</A>
<LI><A NAME="tex2html2987"
  HREF="node209.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">18</SPAN> 为什么大家都说不要使用&nbsp;scanf()？那我该用什么来代替呢？</A>
<LI><A NAME="tex2html2988"
  HREF="node210.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">19</SPAN> 我怎样才知道对于任意的&nbsp;sprintf&nbsp;调用需要多大的目标缓冲区？
怎样才能避免&nbsp;sprintf()&nbsp;目标缓冲区溢出？</A>
<LI><A NAME="tex2html2989"
  HREF="node211.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">20</SPAN> 为什么大家都说不要使用&nbsp;gets()？</A>
<LI><A NAME="tex2html2990"
  HREF="node212.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">21</SPAN> 为什么调用&nbsp;printf()&nbsp;之后&nbsp;errno&nbsp;内有&nbsp;ENOTTY？</A>
<LI><A NAME="tex2html2991"
  HREF="node213.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">22</SPAN> fgetops/fsetops&nbsp;和&nbsp;ftell/fseek&nbsp;之间有什么区别？&nbsp;fgetops()&nbsp;
和&nbsp;fsetops()&nbsp;到底有什么用处？</A>
<LI><A NAME="tex2html2992"
  HREF="node214.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">23</SPAN> 如何清除多余的输入, 以防止在下一个提示符下读入？
fflush(stdin)&nbsp;可以吗？</A>
<LI><A NAME="tex2html2993"
  HREF="node215.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">24</SPAN> 既然&nbsp;fflush()&nbsp;不能, 那么怎样才能清除输入呢？</A>
<LI><A NAME="tex2html2994"
  HREF="node216.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">25</SPAN> 对某些路径文件名调用&nbsp;fopen()&nbsp;总是失败。</A>
<LI><A NAME="tex2html2995"
  HREF="node217.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">26</SPAN> 我想用&nbsp;``r+"&nbsp;打开一个文件, 读出一个字符串, 修改之后再写入,
从而就地更新一个文件。可是这样不行。</A>
<LI><A NAME="tex2html2996"
  HREF="node218.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">27</SPAN> 怎样在程序里把&nbsp;stdin&nbsp;或&nbsp;stdout&nbsp;重定向到文件？</A>
<LI><A NAME="tex2html2997"
  HREF="node219.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">28</SPAN> 一旦使用&nbsp;freopen()&nbsp;之后, 怎样才能恢复原来的&nbsp;stdout
(或&nbsp;stdin)？</A>
<LI><A NAME="tex2html2998"
  HREF="node220.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">29</SPAN> 怎样同时向两个地方输出, 如同时输出到屏幕和文件？</A>
<LI><A NAME="tex2html2999"
  HREF="node221.html"><SPAN CLASS="arabic">13</SPAN>.<SPAN CLASS="arabic">30</SPAN> 怎样正确的读取二进制文件？我有时看到&nbsp;0x0a&nbsp;和&nbsp;0x0d&nbsp;混淆了,
而且如果数据中包含&nbsp;0x1a&nbsp;的话, 我好像会提前遇到&nbsp;EOF。</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR> <table width=100%> <COLGROUP><COL width="25%"><COL width="25%"><col width="25%"><col width="25%"></colgroup><tr><td align=left>
<A NAME="tex2html2958"
  HREF="node190.html">
<IMG WIDTH="62" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A></td><td align=center>
<A NAME="tex2html2964"
  HREF="ccfaq.html">
<IMG WIDTH="61" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A></td><td align=center>&nbsp;
<A NAME="tex2html2966"
  HREF="node1.html">
<IMG WIDTH="63" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>&nbsp;</td><td align=right>
<A NAME="tex2html2968"
  HREF="node192.html">
<IMG WIDTH="62" HEIGHT="25" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A></td></tr></table>
</DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<small>翻译朱群英、孙云, LaTeX2HTML 编译 朱群英 (2005-06-23)</small>
</ADDRESS>
</BODY>
</HTML>
